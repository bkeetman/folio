import i18n from "i18next";
import { initReactI18next } from "react-i18next";

const STORAGE_KEY = "folio.language";

const resources = {
  en: {
    translation: {
      topbar: {
        noRecentActivity: "No recent activity",
        activity: "Activity",
        updateApp: "Update App",
        searchPlaceholder: "Search title or author",
        loading: "Loading",
        views: {
          library: { title: "Your Library", subtitle: "Browse and shape your calm stack." },
          tags: { title: "Tags", subtitle: "Create and maintain tags for your library." },
          inbox: { title: "Inbox", subtitle: "New or incomplete entries waiting on you." },
          duplicates: { title: "Duplicates", subtitle: "Resolve duplicates detected by hash." },
          fix: { title: "Fix Metadata", subtitle: "Choose the best metadata match." },
          changes: { title: "File Changes", subtitle: "Review and apply planned file updates." },
        },
      },
      sidebar: {
        library: "Library",
        maintenance: "Maintenance",
        books: "Books",
        authors: "Authors",
        series: "Series",
        tags: "Tags",
        ereader: "eReader",
        addBooks: "Add Books",
        duplicates: "Duplicates",
        missingFiles: "Missing Files",
        fixMetadata: "Fix Metadata",
        changes: "Changes",
        organizer: "Organizer",
        settings: "Settings",
        clearLibraryData: "Clear Library Data",
        deletesAllItems: "Deletes all items",
        calmLibrary: "Calm Library",
        deviceConnected: "Device connected",
        noDeviceConnected: "No device connected",
        libraryHealth: "Library Health",
        healthScore: "Health Score",
        noIsbn: "No ISBN",
        noCover: "No Cover",
        dupes: "Dupes",
      },
      authors: {
        searchPlaceholder: "Search author...",
        countAll: "{{count}} authors",
        countFiltered: "{{filtered}} of {{total}} authors",
        noneTitle: "No authors found",
        noneHint: "Try a different search term.",
      },
      series: {
        searchPlaceholder: "Search series...",
        countAll: "{{count}} series",
        countFiltered: "{{filtered}} of {{total}} series",
        noneTitle: "No series found",
        noneHint: "Try a different search term.",
        emptyHint: "Series data is extracted from book metadata.",
        booksCount_one: "{{count}} book",
        booksCount_other: "{{count}} books",
        showAll: "Show all",
      },
      settings: {
        title: "Settings",
        subtitle: "Defaults used across the app.",
        language: "Language",
        languageHint: "Choose the app display language.",
        theme: "Theme",
        themeHint: "Use system by default or force light/dark mode.",
        themeSystem: "System",
        themeLight: "Light",
        themeDark: "Dark",
        projectRoot: "Project Root",
        chooseFolder: "Choose a folder...",
        choose: "Choose",
        rootHint: "Default base folder used by organizer and missing-file scans.",
        icloudDetected: "iCloud Drive detected.",
        icloudWarning:
          "macOS may evict files to free up disk space, which can cause read/write errors when the app accesses your library. A local folder is recommended.",
        metadataCleanup: "Metadata Cleanup",
        metadataCleanupHint:
          "Normalize descriptions by stripping embedded HTML tags from imported metadata.",
        cleaning: "Cleaning...",
        cleanDescriptions: "Clean descriptions",
        titleBatchFix: "Title Batch Fix",
        titleBatchFixHint:
          "Clean title noise in batch and infer year/author from patterns like \"Author - Title (Year)\".",
        fixing: "Fixing...",
        fixTitlesInBatch: "Fix titles in batch",
      },
      bookEdit: {
        removeFromLibraryTitle: "Remove from library",
        removeFromLibraryConfirm:
          "This removes the book from your library and adds delete changes in Changes. Files are only permanently deleted after Apply in Changes.",
        editBook: "Edit Book",
        failedLoadDetails: "Failed to load book details.",
        applyingCover: "Applying cover...",
        coverUpdated: "Cover updated.",
        failedUploadCover: "Failed to upload cover image.",
        applyingEmbeddedCover: "Applying embedded cover...",
        embeddedCoverReadbackFailed: "Embedded cover was selected, but could not be read back.",
        embeddedCoverApplied: "Embedded cover applied.",
        failedUseEmbeddedCover: "Failed to use embedded cover.",
        failedLoadEmbeddedPreview: "Failed to load embedded cover preview.",
        noBookSelected: "No book selected for editing.",
        untitled: "Untitled",
        removeFromLibrary: "Remove from Library",
        cancel: "Cancel",
        saveChanges: "Save Changes",
        unknown: "Unknown",
        bookCover: "Book Cover",
        changeCover: "Change Cover",
        addCover: "Add Cover",
        useEmbeddedCover: "Use Embedded Cover",
        embeddedCover: "Embedded Cover",
        loading: "Loading...",
        noPreviewLoaded: "No preview loaded.",
        recommendedCover: "Recommended: 800x1200px (JPG, PNG, WebP)",
        metadataDetails: "Metadata details",
        title: "Title",
        autoClean: "Auto-clean",
        bookTitlePlaceholder: "Book title",
        authors: "Authors",
        authorsPlaceholder: "Comma separated: Author One, Author Two",
        authorsHint: "Separate multiple authors with commas",
        publicationYear: "Publication Year",
        yearPlaceholder: "e.g. 2024",
        language: "Language",
        select: "Select...",
        isbn: "ISBN",
        isbnPlaceholder: "ISBN-10 or ISBN-13",
        series: "Series",
        seriesPlaceholder: "Series name",
        seriesNumber: "Series #",
        seriesNumberPlaceholder: "1, 2, 3...",
        description: "Description",
        descriptionPlaceholder: "Book description or summary...",
        matchMetadata: "Match metadata",
        searchTitleOrAuthor: "Search title or author...",
        searchingSources: "Searching metadata sources...",
        searching: "Searching...",
        noCover: "No cover",
        unknownYear: "—",
        applying: "Applying...",
        applyThis: "Apply This",
        noResultsFound: "No results found.",
        tryDifferentQuery: "Try a different query or edit metadata manually.",
      },
      fixView: {
        needsFixingListCount: "Needs Fixing list: {{count}} items",
        needsFixingListEmpty: "Needs Fixing list is empty",
        metadataEnrichment: "Metadata Enrichment",
        cancel: "Cancel",
        enrichNeedsFixing: "Enrich Needs Fixing",
        enrichingLibrary: "Enriching Library",
        allComplete: "All books have complete metadata!",
        nothingNeedsFixing: "Nothing needs fixing based on your current filter.",
        showItemsWithIssues: "Show Items With Issues",
        resetFilters: "Reset Filters",
        needsFixingCount: "NEEDS FIXING ({{count}})",
        untitled: "Untitled",
        filter: "Filter",
        showBooksMissing: "Show books missing:",
        author: "Author",
        title: "Title",
        cover: "Cover",
        isbn: "ISBN",
        year: "Year",
        language: "Language",
        series: "Series",
        alsoShow: "Also show:",
        itemsWithIssues: "Items with issues",
      },
      ereader: {
        synced: "Synced",
        syncedMaybe: "Synced?",
        exactFileMatch: "Exact file match",
        matchedByIsbn: "Matched by ISBN",
        matchedByTitle: "Matched by title",
        fuzzyMatchVerify: "Fuzzy match - verify",
        onDevice: "On device",
        library: "Library",
        device: "Device",
        queueAdd: "Queue +",
        queueRemove: "Queue -",
        onlyInLibrary: "Only in library",
        onlyOnDevice: "Only on device",
        queuedToAdd: "Queued to add",
        queuedToRemove: "Queued to remove",
        addToDevice: "Add to device",
        removeFromDevice: "Remove from device",
        addToLibrary: "Add to library",
        noConnected: "No eReader Connected",
        connectHint: "Connect your eReader and select its folder to start syncing your library.",
        deviceDefaultName: "eReader",
        selectFolder: "Select eReader Folder",
        refreshConnectionStatus: "Click to refresh connection status",
        connected: "Connected",
        disconnected: "Disconnected",
        removeDeviceConfirm: "Remove \"{{name}}\" from Folio?",
        removeDevice: "Remove device",
        scanning: "Scanning...",
        scanDevice: "Scan Device",
        syncing: "Syncing...",
        syncCount: "Sync ({{count}})",
        filter: "Filter:",
        filters: {
          all: "All",
          inLibrary: "In Library",
          onDevice: "On Device",
          notOnDevice: "Not on Device",
          deviceOnly: "Device Only",
          queued: "Queued",
        },
        syncQueue: "Sync Queue ({{count}} pending)",
        add: "Add",
        remove: "Remove",
        import: "Import",
        unknown: "Unknown",
        cancel: "Cancel",
        deviceDisconnected: "Device is disconnected. Please reconnect to scan and sync.",
        clickScanHint: "Click \"Scan Device\" to see books on your eReader.",
        noBooksForFilter: "No books match the current filter.",
        table: {
          titleAuthor: "Title / Author",
          status: "Status",
          action: "Action",
        },
        unknownTitle: "Unknown Title",
        unknownAuthor: "Unknown Author",
      },
      statusBar: {
        desktop: "Desktop",
        web: "Web",
        idle: "Idle",
      },
      changes: {
        pending: "Pending",
        applied: "Applied",
        errors: "Errors",
        applyAll: "Apply All",
        applySelected: "Apply Selected",
        removeSelected: "Remove Selected",
        removeAll: "Remove All",
        applying: "Applying...",
        renameFile: "Rename File",
        deleteFile: "Delete File",
        updateEpubMetadata: "Update EPUB Metadata",
        error: "Error",
        errorLabel: "Error",
        apply: "Apply",
        remove: "Remove",
        loading: "Loading changes...",
        noPending: "No pending changes.",
        deleteFilesQuestion: "Delete files?",
        deleteFilesCount: "You are about to delete {{count}} file(s).",
        cancel: "Cancel",
        delete: "Delete",
      },
      duplicates: {
        unknownSize: "—",
        hash: "Hash",
        titleAuthor: "Title + Author",
        fuzzy: "Fuzzy",
        openActions: "Open actions: {{count}}",
        autoSelectBest: "Auto-select best",
        resolveAll: "Resolve all",
        applyNow: "Apply changes now",
        hideTitleMismatches: "Hide title mismatches",
        showingHashGroups: "Showing {{shown}} of {{total}} hash groups",
        selectedCount: "Selected {{selected}}/{{total}}",
        restoreIgnored: "Restore ignored ({{count}})",
        matchingFiles: "{{count}} matching files",
        notDuplicate: "Not duplicate",
        resolve: "Resolve",
        noneInMode: "No duplicate groups to review in this mode.",
        helper: {
          hash: "Duplicates are detected by file content (hash), not by title.",
          title: "Title + Author groups are matched by normalized title, author and year.",
          fuzzy: "Fuzzy groups are matched by normalized title + author (year ignored).",
        },
      },
      library: {
        empty: "Empty Library",
        emptyHint: "Scan a folder to add books to your collection.",
        clearAll: "Clear all",
        missingMetadata: "Missing Metadata",
        tagged: "Tagged",
        all: "All",
        sort: "Sort",
        columnTitle: "Title",
        columnAuthor: "Author",
        columnYear: "Year",
        columnFormat: "Format",
        authorPrefix: "Author:",
        seriesPrefix: "Series:",
        epub: "EPUB",
        pdf: "PDF",
        sortDefault: "Default",
        sortTitleAsc: "Title A–Z",
        sortTitleDesc: "Title Z–A",
        sortAuthorAsc: "Author A–Z",
        sortYearDesc: "Year (newest)",
        sortYearAsc: "Year (oldest)",
        sortRecent: "Recently added",
      },
      inspector: {
        details: "Details",
        inspector: "Inspector",
        files: "Files",
        revealInFinder: "Reveal in Finder",
        tags: "Tags",
        noTagsYet: "No tags yet.",
        addTag: "Add tag",
        noTagsAvailable: "No tags available.",
        availableLanguages: "Available languages",
        reveal: "Reveal",
        edit: "Edit",
        ereader: "eReader",
        synced: "Synced",
        fuzzyMatch: "fuzzy match",
        inQueue: "In queue",
        sendToEreader: "Send to eReader",
        selectBook: "Select a book to see details.",
      },
    },
  },
  nl: {
    translation: {
      topbar: {
        noRecentActivity: "Geen recente activiteit",
        activity: "Activiteit",
        updateApp: "App updaten",
        searchPlaceholder: "Zoek titel of auteur",
        loading: "Laden",
        views: {
          library: { title: "Je Bibliotheek", subtitle: "Blader en beheer je rustige verzameling." },
          tags: { title: "Tags", subtitle: "Maak en beheer tags voor je bibliotheek." },
          inbox: { title: "Inbox", subtitle: "Nieuwe of incomplete items die aandacht nodig hebben." },
          duplicates: { title: "Duplicaten", subtitle: "Los duplicaten op die via hash zijn gevonden." },
          fix: { title: "Metadata Herstellen", subtitle: "Kies de beste metadata-match." },
          changes: { title: "Bestandswijzigingen", subtitle: "Controleer en voer geplande wijzigingen uit." },
        },
      },
      sidebar: {
        library: "Bibliotheek",
        maintenance: "Onderhoud",
        books: "Boeken",
        authors: "Auteurs",
        series: "Series",
        tags: "Tags",
        ereader: "eReader",
        addBooks: "Boeken toevoegen",
        duplicates: "Duplicaten",
        missingFiles: "Missende bestanden",
        fixMetadata: "Metadata fixen",
        changes: "Wijzigingen",
        organizer: "Organizer",
        settings: "Instellingen",
        clearLibraryData: "Bibliotheek wissen",
        deletesAllItems: "Verwijdert alle items",
        calmLibrary: "Rustige Bibliotheek",
        deviceConnected: "Apparaat verbonden",
        noDeviceConnected: "Geen apparaat verbonden",
        libraryHealth: "Bibliotheekstatus",
        healthScore: "Statusscore",
        noIsbn: "ISBN",
        noCover: "Covers",
        dupes: "Dupes",
      },
      authors: {
        searchPlaceholder: "Zoek auteur...",
        countAll: "{{count}} auteurs",
        countFiltered: "{{filtered}} van {{total}} auteurs",
        noneTitle: "Geen auteurs gevonden",
        noneHint: "Probeer een andere zoekterm.",
      },
      series: {
        searchPlaceholder: "Zoek serie...",
        countAll: "{{count}} series",
        countFiltered: "{{filtered}} van {{total}} series",
        noneTitle: "Geen series gevonden",
        noneHint: "Probeer een andere zoekterm.",
        emptyHint: "Serie-informatie wordt uit boek-metadata gehaald.",
        booksCount_one: "{{count}} boek",
        booksCount_other: "{{count}} boeken",
        showAll: "Toon alle",
      },
      settings: {
        title: "Instellingen",
        subtitle: "Standaardinstellingen voor de hele app.",
        language: "Taal",
        languageHint: "Kies de weergavetaal van de app.",
        theme: "Thema",
        themeHint: "Gebruik standaard de systeeminstelling of forceer licht/donker.",
        themeSystem: "Systeem",
        themeLight: "Licht",
        themeDark: "Donker",
        projectRoot: "Projectmap",
        chooseFolder: "Kies een map...",
        choose: "Kies",
        rootHint: "Standaard basismap voor organizer en scans op ontbrekende bestanden.",
        icloudDetected: "iCloud Drive gedetecteerd.",
        icloudWarning:
          "macOS kan bestanden wegschrijven om schijfruimte vrij te maken. Dat kan lees-/schrijffouten geven wanneer de app je bibliotheek opent. Een lokale map is aanbevolen.",
        metadataCleanup: "Metadata Opschonen",
        metadataCleanupHint:
          "Normaliseer beschrijvingen door ingesloten HTML-tags uit geïmporteerde metadata te halen.",
        cleaning: "Opschonen...",
        cleanDescriptions: "Beschrijvingen opschonen",
        titleBatchFix: "Titel Batch Fix",
        titleBatchFixHint:
          "Maak titels in bulk schoon en leid jaar/auteur af uit patronen zoals \"Auteur - Titel (Jaar)\".",
        fixing: "Bezig...",
        fixTitlesInBatch: "Titels in batch herstellen",
      },
      bookEdit: {
        removeFromLibraryTitle: "Verwijder uit bibliotheek",
        removeFromLibraryConfirm:
          "Dit verwijdert het boek uit je bibliotheek en voegt delete-wijzigingen toe in Wijzigingen. Bestanden worden pas echt verwijderd na Apply in Wijzigingen.",
        editBook: "Boek bewerken",
        failedLoadDetails: "Laden van boekgegevens mislukt.",
        applyingCover: "Cover toepassen...",
        coverUpdated: "Cover bijgewerkt.",
        failedUploadCover: "Uploaden van cover mislukt.",
        applyingEmbeddedCover: "Ingebakken cover toepassen...",
        embeddedCoverReadbackFailed: "Ingebakken cover geselecteerd, maar kon niet worden teruggelezen.",
        embeddedCoverApplied: "Ingebakken cover toegepast.",
        failedUseEmbeddedCover: "Ingebakken cover gebruiken mislukt.",
        failedLoadEmbeddedPreview: "Ingebakken preview laden mislukt.",
        noBookSelected: "Geen boek geselecteerd om te bewerken.",
        untitled: "Naamloos",
        removeFromLibrary: "Verwijder uit bibliotheek",
        cancel: "Annuleren",
        saveChanges: "Opslaan",
        unknown: "Onbekend",
        bookCover: "Boekcover",
        changeCover: "Cover wijzigen",
        addCover: "Cover toevoegen",
        useEmbeddedCover: "Gebruik ingesloten cover",
        embeddedCover: "Ingesloten cover",
        loading: "Laden...",
        noPreviewLoaded: "Geen preview geladen.",
        recommendedCover: "Aanbevolen: 800x1200px (JPG, PNG, WebP)",
        metadataDetails: "Metadata details",
        title: "Titel",
        autoClean: "Auto-opschonen",
        bookTitlePlaceholder: "Boektitel",
        authors: "Auteurs",
        authorsPlaceholder: "Komma gescheiden: Auteur Eén, Auteur Twee",
        authorsHint: "Meerdere auteurs scheiden met komma's",
        publicationYear: "Publicatiejaar",
        yearPlaceholder: "bijv. 2024",
        language: "Taal",
        select: "Selecteer...",
        isbn: "ISBN",
        isbnPlaceholder: "ISBN-10 of ISBN-13",
        series: "Serie",
        seriesPlaceholder: "Serienaam",
        seriesNumber: "Serie #",
        seriesNumberPlaceholder: "1, 2, 3...",
        description: "Beschrijving",
        descriptionPlaceholder: "Boekbeschrijving of samenvatting...",
        matchMetadata: "Metadata matchen",
        searchTitleOrAuthor: "Zoek titel of auteur...",
        searchingSources: "Metadata bronnen doorzoeken...",
        searching: "Zoeken...",
        noCover: "Geen cover",
        unknownYear: "—",
        applying: "Toepassen...",
        applyThis: "Toepassen",
        noResultsFound: "Geen resultaten gevonden.",
        tryDifferentQuery: "Probeer een andere zoekterm of bewerk metadata handmatig.",
      },
      fixView: {
        needsFixingListCount: "Needs Fixing-lijst: {{count}} items",
        needsFixingListEmpty: "Needs Fixing-lijst is leeg",
        metadataEnrichment: "Metadata-verrijking",
        cancel: "Annuleren",
        enrichNeedsFixing: "Needs Fixing verrijken",
        enrichingLibrary: "Bibliotheek verrijken",
        allComplete: "Alle boeken hebben complete metadata!",
        nothingNeedsFixing: "Er hoeft niets gefixt te worden op basis van je huidige filter.",
        showItemsWithIssues: "Toon items met issues",
        resetFilters: "Filters resetten",
        needsFixingCount: "NEEDS FIXING ({{count}})",
        untitled: "Naamloos",
        filter: "Filter",
        showBooksMissing: "Toon boeken zonder:",
        author: "Auteur",
        title: "Titel",
        cover: "Cover",
        isbn: "ISBN",
        year: "Jaar",
        language: "Taal",
        series: "Serie",
        alsoShow: "Toon ook:",
        itemsWithIssues: "Items met issues",
      },
      ereader: {
        synced: "Gesynchroniseerd",
        syncedMaybe: "Gesynchroniseerd?",
        exactFileMatch: "Exacte bestandsmatch",
        matchedByIsbn: "Gematcht op ISBN",
        matchedByTitle: "Gematcht op titel",
        fuzzyMatchVerify: "Fuzzy match - controleer",
        onDevice: "Op apparaat",
        library: "Bibliotheek",
        device: "Apparaat",
        queueAdd: "Wachtrij +",
        queueRemove: "Wachtrij -",
        onlyInLibrary: "Alleen in bibliotheek",
        onlyOnDevice: "Alleen op apparaat",
        queuedToAdd: "In wachtrij om toe te voegen",
        queuedToRemove: "In wachtrij om te verwijderen",
        addToDevice: "Toevoegen aan apparaat",
        removeFromDevice: "Verwijderen van apparaat",
        addToLibrary: "Toevoegen aan bibliotheek",
        noConnected: "Geen eReader verbonden",
        connectHint: "Verbind je eReader en selecteer de map om je bibliotheek te synchroniseren.",
        deviceDefaultName: "eReader",
        selectFolder: "Selecteer eReader-map",
        refreshConnectionStatus: "Klik om verbindingsstatus te verversen",
        connected: "Verbonden",
        disconnected: "Niet verbonden",
        removeDeviceConfirm: "\"{{name}}\" uit Folio verwijderen?",
        removeDevice: "Apparaat verwijderen",
        scanning: "Scannen...",
        scanDevice: "Apparaat scannen",
        syncing: "Synchroniseren...",
        syncCount: "Synchroniseer ({{count}})",
        filter: "Filter:",
        filters: {
          all: "Alles",
          inLibrary: "In bibliotheek",
          onDevice: "Op apparaat",
          notOnDevice: "Niet op apparaat",
          deviceOnly: "Alleen apparaat",
          queued: "In wachtrij",
        },
        syncQueue: "Synchronisatiewachtrij ({{count}} open)",
        add: "Toevoegen",
        remove: "Verwijderen",
        import: "Importeren",
        unknown: "Onbekend",
        cancel: "Annuleren",
        deviceDisconnected: "Apparaat is niet verbonden. Verbind opnieuw om te scannen en te synchroniseren.",
        clickScanHint: "Klik op \"Apparaat scannen\" om boeken op je eReader te zien.",
        noBooksForFilter: "Geen boeken voor het huidige filter.",
        table: {
          titleAuthor: "Titel / Auteur",
          status: "Status",
          action: "Actie",
        },
        unknownTitle: "Onbekende titel",
        unknownAuthor: "Onbekende auteur",
      },
      statusBar: {
        desktop: "Desktop",
        web: "Web",
        idle: "Inactief",
      },
      changes: {
        pending: "Openstaand",
        applied: "Toegepast",
        errors: "Fouten",
        applyAll: "Alles toepassen",
        applySelected: "Selectie toepassen",
        removeSelected: "Selectie verwijderen",
        removeAll: "Alles verwijderen",
        applying: "Toepassen...",
        renameFile: "Bestand hernoemen",
        deleteFile: "Bestand verwijderen",
        updateEpubMetadata: "EPUB-metadata bijwerken",
        error: "Fout",
        errorLabel: "Fout",
        apply: "Toepassen",
        remove: "Verwijderen",
        loading: "Wijzigingen laden...",
        noPending: "Geen openstaande wijzigingen.",
        deleteFilesQuestion: "Bestanden verwijderen?",
        deleteFilesCount: "Je staat op het punt {{count}} bestand(en) te verwijderen.",
        cancel: "Annuleren",
        delete: "Verwijderen",
      },
      duplicates: {
        unknownSize: "—",
        hash: "Hash",
        titleAuthor: "Titel + Auteur",
        fuzzy: "Fuzzy",
        openActions: "Open acties: {{count}}",
        autoSelectBest: "Beste automatisch selecteren",
        resolveAll: "Alles oplossen",
        applyNow: "Wijzigingen nu toepassen",
        hideTitleMismatches: "Titel-mismatches verbergen",
        showingHashGroups: "Toon {{shown}} van {{total}} hash-groepen",
        selectedCount: "Geselecteerd {{selected}}/{{total}}",
        restoreIgnored: "Genegeerde herstellen ({{count}})",
        matchingFiles: "{{count}} overeenkomende bestanden",
        notDuplicate: "Geen duplicaat",
        resolve: "Oplossen",
        noneInMode: "Geen duplicate-groepen om te beoordelen in deze modus.",
        helper: {
          hash: "Duplicaten worden gedetecteerd op bestandsinhoud (hash), niet op titel.",
          title: "Titel + Auteur-groepen worden gematcht op genormaliseerde titel, auteur en jaar.",
          fuzzy: "Fuzzy-groepen worden gematcht op genormaliseerde titel + auteur (jaar genegeerd).",
        },
      },
      library: {
        empty: "Lege bibliotheek",
        emptyHint: "Scan een map om boeken aan je collectie toe te voegen.",
        clearAll: "Alles wissen",
        missingMetadata: "Missende metadata",
        tagged: "Getagd",
        all: "Alle",
        sort: "Sorteer",
        columnTitle: "Titel",
        columnAuthor: "Auteur",
        columnYear: "Jaar",
        columnFormat: "Formaat",
        authorPrefix: "Auteur:",
        seriesPrefix: "Serie:",
        epub: "EPUB",
        pdf: "PDF",
        sortDefault: "Standaard",
        sortTitleAsc: "Titel A–Z",
        sortTitleDesc: "Titel Z–A",
        sortAuthorAsc: "Auteur A–Z",
        sortYearDesc: "Jaar (nieuwst)",
        sortYearAsc: "Jaar (oudst)",
        sortRecent: "Recent toegevoegd",
      },
      inspector: {
        details: "Details",
        inspector: "Inspector",
        files: "Bestanden",
        revealInFinder: "Toon in Finder",
        tags: "Tags",
        noTagsYet: "Nog geen tags.",
        addTag: "Tag toevoegen",
        noTagsAvailable: "Geen tags beschikbaar.",
        availableLanguages: "Beschikbare talen",
        reveal: "Toon",
        edit: "Bewerken",
        ereader: "eReader",
        synced: "Gesynchroniseerd",
        fuzzyMatch: "fuzzy match",
        inQueue: "In wachtrij",
        sendToEreader: "Stuur naar eReader",
        selectBook: "Selecteer een boek om details te bekijken.",
      },
    },
  },
} as const;

const storedLanguage = typeof window !== "undefined" ? window.localStorage.getItem(STORAGE_KEY) : null;
const navigatorLanguage = typeof navigator !== "undefined" ? navigator.language.toLowerCase() : "en";
const initialLanguage = storedLanguage ?? (navigatorLanguage.startsWith("nl") ? "nl" : "en");

void i18n.use(initReactI18next).init({
  resources,
  lng: initialLanguage,
  fallbackLng: "en",
  interpolation: {
    escapeValue: false,
  },
});

i18n.on("languageChanged", (language) => {
  if (typeof window !== "undefined") {
    window.localStorage.setItem(STORAGE_KEY, language);
  }
});

export { i18n };
